const ratio=window.devicePixelRatio||1,titleAnimation="text 17s ease-in-out 0s infinite",shiftingAnimation="shift 2s linear 0s infinite",small=500,extraWide=1800,extraExtraWide=2400;var isPlaying=!window.matchMedia("(prefers-reduced-motion)").matches,menuOpen=!1;const palette=[{f:"#aaafb9",bg:"none"},{f:"#FFF",bg:"none"},{f:"#000",bg:"#FFF"}];var cIndex=0;function animate(e,t){e.style.webkitAnimation=t,e.style.mozAnimation=t,e.style.oAnimation=t,e.style.msTransition=t,e.style.animation=t}function hideRevealPlayPauseButtons(){const e=document.getElementsByClassName("play"),t=document.getElementsByClassName("pause");if(isPlaying){for(i=0;i<e.length;i++)e[i].style.visibility="hidden";for(i=0;i<t.length;i++)t[i].style.visibility="visible"}else{for(i=0;i<e.length;i++)e[i].style.visibility="visible";for(i=0;i<t.length;i++)t[i].style.visibility="hidden"}}function commonPlayPause(){const e=document.getElementById("shifting-background");animate(e,isPlaying?"none":shiftingAnimation),isPlaying=!isPlaying,hideRevealPlayPauseButtons()}function commonScaleElements(){var e;if(window.innerWidth<500){const e=document.getElementsByClassName("td-hidden-at-small");for(i=0;i<e.length;i++)e[i].style.display="none"}else{const e=document.getElementsByClassName("td-hidden-at-small");for(i=0;i<e.length;i++)e[i].style.display="table-cell"}e=window.innerWidth>2400?2:1;const t=getComputedStyle(document.documentElement).getPropertyValue("--scale");if(t!=e){document.documentElement.style.setProperty("--scale",e);const l=document.getElementById("menu-wrapper");for(i=0;i<l.childElementCount;i++)if(l.children[i].classList.contains("unscalable")){const r=[];for(r.push({k:"r",v:l.children[i].getAttribute("r")}),r.push({k:"x",v:l.children[i].getAttribute("x")}),r.push({k:"y",v:l.children[i].getAttribute("y")}),r.push({k:"cx",v:l.children[i].getAttribute("cx")}),r.push({k:"cy",v:l.children[i].getAttribute("cy")}),r.push({k:"rx",v:l.children[i].getAttribute("rx")}),r.push({k:"ry",v:l.children[i].getAttribute("ry")}),r.push({k:"width",v:l.children[i].getAttribute("width")}),r.push({k:"height",v:l.children[i].getAttribute("height")}),r.push({k:"stroke-width",v:l.children[i].getAttribute("stroke-width")}),ii=0;ii<r.length;ii++)if(r[ii]){var n=parseInt(r[ii].v);n==n&&(t<e?n*=2:n/=2,l.children[i].setAttribute(r[ii].k,n))}const c=l.children[i].getAttribute("points");if(c){var s="";const n=c.split(" ");for(iii=0;iii<n.length;iii++){iii>0&&iii<n.length&&(s+=" ");const i=n[iii].split(",");var o=parseInt(i[0]),a=parseInt(i[1]);t<e?(o*=2,a*=2):(o/=2,a/=2),s=s+o+","+a}l.children[i].setAttribute("points",s)}}document.documentElement.style.setProperty("--scale",e)}}function commonLoad(){hideRevealPlayPauseButtons();const e=window.location.search.replace("?","").split("&");for(i=0;i<e.length;i++){const t=e[i].toLowerCase();if("pause"==t){playPause&&playPause();break}if(t.includes("palette"))try{const t=e[i].split("=");changeColor(parseInt(t[1]))}catch{}}return e}function toggleMenu(){const e=document.getElementsByClassName("menu"),t=document.getElementsByClassName("menu-item"),n=document.getElementById("menu-wrapper"),s=document.getElementById("stop-button");if(menuOpen){for(i=0;i<t.length;i++)animate(t[i],"hideMenuItems 0.5s ease-in-out 0s forwards");for(i=0;i<e.length;i++)animate(e[i],"closeMenu 0.5s ease-in-out 0s forwards");animate(n,"closeMenu2 0.5s ease-in-out 0s forwards"),animate(s,"closeStopButton 0.5s ease-in-out 0s forwards")}else{for(i=0;i<t.length;i++){const e=i<10?"0"+i:i;animate(t[i],"revealMenuItems 0.5s ease-in-out 0."+e+"s forwards")}for(i=0;i<e.length;i++)animate(e[i],"openMenu 0.5s ease-in-out 0s forwards");animate(n,"openMenu2 0.5s ease-in-out 0s forwards"),animate(s,"openStopButton 0.5s ease-in-out 0s forwards")}menuOpen=!menuOpen}function changeColor(e){e&&e<palette.length?cIndex=e:cIndex>=palette.length-1?cIndex=0:cIndex+=1,document.documentElement.style.setProperty("--defaultTextColor",palette[cIndex].f);var t=palette[cIndex].bg;document.documentElement.style.setProperty("--defaultBackgroundColor",t)}function link(e,t){var i="";i=t||"?",isPlaying||(i+=("?"===i?"":"&")+"pause"),cIndex>0&&(i+=("?"===i?"":"&")+"palette="+cIndex),window.location.href=e+i}function home(e){link(e,"?skip")}function scaleInnerCircles(e,t){const n=document.getElementsByClassName("inner-circle");for(i=0;i<n.length;i++){n[i].setAttribute("cx",t/2+"px"),n[i].setAttribute("cy",e/2+"px");var s=t/3;t>e&&(s=e/3),s<100&&(s=100),n[i].setAttribute("r",s+"px")}}
function scaleElements(){commonScaleElements(),window.scrollTo(0,0);const e=window.innerWidth,t=document.getElementById("title"),n=document.getElementById("animated-title"),l=document.getElementById("text");t.style.left=0,n.style.left=0,t.style.top="90px",n.style.top="90px",t.style.fontSize="24px",n.style.fontSize="24px",l.style.fontSize="14pt",e>700&&(t.style.fontSize="36px",n.style.fontSize="36px"),e>1800&&(t.style.fontSize="48px",n.style.fontSize="48px",l.style.fontSize="24pt");const o=t.getBoundingClientRect(),i=e/2-o.width/2;t.style.left=i+"px",n.style.left=i+"px",l.style.marginTop=o.bottom+20+"px",l.style.maxWidth=e>950?"85%":"90%"}function load(){scaleElements(),document.getElementById("menu-wrapper").style.visibility="visible",commonLoad()}function playPause(){const e=document.getElementById("animated-title");isPlaying?animate(e,"none"):animate(e,titleAnimation),commonPlayPause()}window.onload=load,window.addEventListener("resize",scaleElements);
